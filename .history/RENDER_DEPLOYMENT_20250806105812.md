# Modern360 Assessment Platform - Render.com Deployment Configuration

## Environment Variables for Render.com

### Main Application Service (modern360-main)
```
PYTHON_VERSION=3.11.4
DEPLOYMENT_ENV=production
PORT=10000
SECRET_KEY=[Auto-generated by Render]
DATABASE_URL=[Auto-connected from database]
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=[Your Gmail address]
MAIL_PASSWORD=[Your Gmail App Password]
MAIL_DEFAULT_SENDER=[Your Gmail address]
MAIN_APP_URL=https://modern360-main.onrender.com
```

### Admin Application Service (modern360-admin)
```
PYTHON_VERSION=3.11.4
DEPLOYMENT_ENV=production
ADMIN_PORT=10000
SECRET_KEY=[Same as main app]
DATABASE_URL=[Same as main app]
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=[Your Gmail address]
MAIL_PASSWORD=[Your Gmail App Password]
MAIL_DEFAULT_SENDER=[Your Gmail address]
MAIN_APP_URL=https://modern360-main.onrender.com
```

## ðŸš€ Deployment Steps for Render.com

### Option 1: Automatic Deployment (Using render.yaml)
1. Push your code to GitHub: `git push origin main`
2. Go to [Render Dashboard](https://dashboard.render.com)
3. Click "New" â†’ "Blueprint"
4. Connect your GitHub repository: `DzenanMuftic/modern360-assessment`
5. Render will automatically create both services from render.yaml
6. Set up your environment variables in each service

### Option 2: Manual Deployment
#### Deploy Main Application
1. Go to [Render Dashboard](https://dashboard.render.com)
2. Click "New" â†’ "Web Service"
3. Connect your GitHub repository
4. Configure:
   - **Name**: `modern360-main`
   - **Environment**: `Python 3`
   - **Region**: `Oregon (US West)`
   - **Branch**: `main`
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `python start.py --mode=main`

#### Deploy Admin Application
1. Click "New" â†’ "Web Service" again
2. Connect the same repository
3. Configure:
   - **Name**: `modern360-admin`
   - **Environment**: `Python 3`
   - **Region**: `Oregon (US West)`
   - **Branch**: `main`
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `python start.py --mode=admin`

#### Create Database
1. Click "New" â†’ "PostgreSQL"
2. Configure:
   - **Name**: `modern360-db`
   - **Database Name**: `modern360`
   - **User**: `modern360user`
   - **Region**: `Oregon (US West)`
   - **Plan**: `Free`

### ðŸ“§ Email Configuration (Gmail)
1. Enable 2-Factor Authentication on your Gmail account
2. Generate an App Password:
   - Go to Google Account Settings
   - Security â†’ 2-Step Verification â†’ App passwords
   - Generate password for "Mail"
3. Use this App Password (not your regular password) for `MAIL_PASSWORD`

### ðŸ”— Service URLs
- **Main Application**: `https://modern360-main.onrender.com`
- **Admin Dashboard**: `https://modern360-admin.onrender.com`

## âœ… Deployment Checklist

### Pre-deployment
- [x] Code pushed to GitHub
- [x] requirements.txt includes all dependencies
- [x] start.py handles production mode
- [x] render.yaml configured
- [x] Database models support PostgreSQL

### Environment Variables to Set
- [ ] `MAIL_USERNAME` (your Gmail address)
- [ ] `MAIL_PASSWORD` (Gmail App Password)
- [ ] `MAIL_DEFAULT_SENDER` (your Gmail address)
- [ ] Verify `DATABASE_URL` is connected
- [ ] Verify `SECRET_KEY` is generated

### Post-deployment
- [ ] Test main application functionality
- [ ] Test admin dashboard access (admin/admin123)
- [ ] Test email sending functionality
- [ ] Create first company and users
- [ ] Test assessment creation and invitations

## ðŸ”§ Troubleshooting

### Common Issues
1. **Build fails**: Check Python version and requirements.txt
2. **Database connection**: Verify DATABASE_URL environment variable
3. **Email not working**: Check Gmail App Password and 2FA
4. **Import errors**: Ensure all dependencies in requirements.txt

### Logs
- View logs in Render dashboard under each service
- Use `python start.py --mode=main` to test locally first

### Health Checks
- Main App: `https://modern360-main.onrender.com/`
- Admin App: `https://modern360-admin.onrender.com/login`

## ðŸ’° Cost Estimation
- **Free Tier**: Both web services + PostgreSQL database = $0/month
- **Services sleep after 15 minutes of inactivity on free tier**
- **First request after sleep takes ~30 seconds to wake up**

## ðŸ”„ Updates
To update the deployment:
1. Push changes to GitHub: `git push origin main`
2. Render will automatically redeploy both services
3. Check deployment logs for any issues

---

**Ready to Deploy!** ðŸš€
Your application is fully configured for Render.com deployment with both user and admin interfaces.
